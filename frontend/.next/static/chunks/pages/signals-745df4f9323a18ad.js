(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[301],{3261:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signals",function(){return s(3883)}])},3883:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(5893),r=s(9008),n=s.n(r),i=s(7294),l=s(1438);function d(){let[e,t]=(0,i.useState)(null),[s,r]=(0,i.useState)(!0),[n,d]=(0,i.useState)(null);(0,i.useEffect)(()=>{c()},[]);let c=async()=>{try{r(!0);let e=await l.Z.getSignals();t(e),d(null)}catch(e){d(e.message)}finally{r(!1)}},o=e=>{let t=(e||"").toUpperCase();return"BUY"===t?"text-green-600 bg-green-100":"SELL"===t?"text-red-600 bg-red-100":"text-gray-600 bg-gray-100"},m=e=>{let t=(e||"").toUpperCase();return"BUY"===t?(0,a.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414-1.414L9 5.586 7.707 4.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4a1 1 0 00-1.414-1.414L10 4.414l2.293 2.293a1 1 0 001.414-1.414z",clipRule:"evenodd"})}):"SELL"===t?(0,a.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm-1-11a1 1 0 112 0v2a1 1 0 11-2 0V7zm0 6a1 1 0 112 0 1 1 0 01-2 0z",clipRule:"evenodd"})})},x=e=>null==e?"---.--":"number"==typeof e?e.toFixed(2):(null==e?void 0:e.toString())||"---.--",h=e=>null==e?"$---.--":"number"==typeof e?"$".concat(e.toFixed(2)):(null==e?void 0:e.toString())||"$---.--";if(s)return(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),(0,a.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded"})]})]},t))})]})})});if(n)return(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100 text-red-600",children:(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Signals are temporarily unavailable"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"The strategy wasn’t able to publish signal data. Confirm the market-data providers are configured and that the trading API is reachable."}),(0,a.jsxs)("div",{className:"mt-4 flex justify-center space-x-3 text-xs text-gray-500",children:[(0,a.jsx)("span",{children:"• Validate Tiingo / Alpha Vantage keys"}),(0,a.jsx)("span",{children:"• Inspect Render bot logs"})]}),(0,a.jsx)("button",{onClick:c,className:"mt-6 inline-flex items-center rounded-md border border-transparent bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700",children:"Try again"}),(0,a.jsx)("p",{className:"mt-3 overflow-hidden text-ellipsis whitespace-pre-line break-all rounded bg-red-50 px-3 py-2 text-left text-xs text-red-600",children:n})]})});let u=(null==e?void 0:e.signals)||{};return(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Trading Signals"}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Data delayed ",(null==e?void 0:e.data_delay_minutes)||15," minutes"]})]}),Object.keys(u).length>0?(0,a.jsx)("div",{className:"space-y-6",children:Object.entries(u).map(e=>{let[t,s]=e,r=(s.signal||"HOLD").toUpperCase(),n=(0,a.jsxs)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat(o(r)),children:[m(r),(0,a.jsx)("span",{className:"ml-1",children:r})]});return(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:t}),s.error?(0,a.jsxs)("span",{className:"text-red-600 text-sm",children:["Error: ",s.error]}):n]}),!s.error&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"SMA 20"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:x(s.sma_20)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"SMA 50"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:x(s.sma_50)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"RSI"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:x(s.rsi)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Current Price"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:h(s.current_price)})]})]}),!s.error&&s.conditions&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray-500 mb-2",children:"Signal Conditions"}),(0,a.jsx)("div",{className:"space-y-1",children:Object.entries(s.conditions).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(s?"bg-green-500":"bg-gray-300")}),(0,a.jsxs)("span",{className:s?"text-green-700":"text-gray-600",children:[t.replace(/_/g," ").toUpperCase(),": ",s?"Met":"Not Met"]})]},t)})})]})]},t)})}):(0,a.jsx)("div",{className:"text-center py-16 text-sm text-gray-600",children:"No live signals are available yet. The strategy publishes updated guidance after the next analysis cycle."}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Strategy Information"}),(0,a.jsx)("p",{className:"text-sm text-blue-800",children:"Signals are generated using a 20/50-day SMA crossover strategy with RSI filter. BUY signals require SMA20 > SMA50 and RSI < 70. SELL signals require SMA20 < SMA50 and RSI > 30."})]}),(null==e?void 0:e.timestamp)&&(0,a.jsxs)("div",{className:"mt-4 text-xs text-gray-400",children:["Last updated: ",new Date(e.timestamp).toLocaleString()]})]})})}function c(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Trading Signals - QualQuant"}),(0,a.jsx)("meta",{name:"description",content:"Current trading signals and technical indicators from the AI trading strategy"})]}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Trading Signals"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Current signals and technical analysis from the AI trading strategy"})]}),(0,a.jsx)(d,{})]})]})}},1438:function(e,t){"use strict";class s{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.baseURL||"",a="".concat(s).concat(e),r={headers:{"Content-Type":"application/json",...t.headers||{}},...t};try{let t=await fetch(a,r);if(!t.ok){if(404===t.status)throw Error("API endpoint not found: ".concat(e));if(401===t.status)throw Error("Authentication failed - check API key in environment variables");if(403===t.status)throw Error("Access forbidden - invalid API key or insufficient permissions");if(t.status>=500)throw Error("Backend server error - please try again later");throw Error("HTTP error! status: ".concat(t.status))}return await t.json()}catch(t){if("TypeError"===t.name&&t.message.includes("fetch"))throw Error("Cannot connect to backend - check if API server is running");throw console.error("API request failed: ".concat(e),t),t}}async getPortfolio(){return this.request("/api/proxy/portfolio")}async getTrades(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=new URLSearchParams({page:e.toString(),page_size:t.toString()});return s&&a.append("symbol",s),this.request("/api/proxy/trades?".concat(a))}async getPerformance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return this.request("/api/proxy/performance?days=".concat(e))}async getSignals(){return this.request("/api/proxy/signals")}async getStatus(){return this.request("/api/proxy/status")}constructor(){this.baseURL="".replace(/\/$/,"")}}t.Z=new s},9008:function(e,t,s){e.exports=s(4764)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3261)}),_N_E=e.O()}]);